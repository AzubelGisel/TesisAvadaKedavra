<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Avada Kedavra</title>

  <!-- Bootstrap + Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700;900&family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">

  <style>
    /* --- Variables y base --- */
    :root{
      --bg-matte: #0f1112;        /* fondo general, menos negro */
      --panel: #151617;
      --muted-gold: #b6922f;
      --subtitle-red: #7b1f1f;
      --btn-blue: #112334;
      --btn-blue-hover: #1b3d5a;
      --text: #e9e9e9;
      --membrete-height: 1.5cm;   /* altura requerida */
    }

    html { scroll-behavior: smooth; }
    html,body { height:100%; margin:0; background:var(--bg-matte); color:var(--text); font-family:"Roboto", sans-serif; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; }

    a { text-decoration: none; color: inherit; }

    /* --- NAVBAR / membrete --- */
    .navbar-custom {
      height: var(--membrete-height);
      background: #080808;
      display: flex;
      align-items: center;
      border-bottom: 1px solid rgba(255,255,255,0.03);
      padding-left: 28px;
      padding-right: 28px;
    }

    .navbar-custom {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 999;
}

.hero {
  margin-top: var(--membrete-height);
}



    .brand-wrap { display:flex; align-items:center; gap:10px; }
    .brand-star {
      color: #f0c941;
      font-size: 1.35rem;
      line-height:1;
      filter: drop-shadow(0 0 6px rgba(240,201,65,0.12));
    }
    .brand-title { color:white; font-weight:700; font-size:1.05rem; letter-spacing:0.2px; font-family:"Cinzel", serif; }

    .nav-link.custom {
      color: var(--muted-gold) !important;
      margin-left: 12px;
      margin-right: 12px;
      font-weight:500;
    }
    .nav-link.custom:hover { color: #fff !important; text-shadow:0 0 8px rgba(182,146,47,0.8); }

    .cart-btn {
      color: white;
      border:1px solid rgba(255,255,255,0.16);
      padding:6px 12px;
      border-radius:6px;
      background:transparent;
    }

    /* When using anchors, ensure sections are visible below the membrete */
    section { scroll-margin-top: calc(var(--membrete-height) + 12px); }

    /* --- HERO --- */
    .hero {
      min-height: calc(100vh - var(--membrete-height));
      display:flex;
      align-items:center;
      justify-content:center;
      position:relative;
      padding: 80px 20px;
      overflow:hidden;
    }
    .hero::before {
      content:"";
      position:absolute;
      inset:0;
      background:
        radial-gradient(circle at 20% 20%, rgba(255,215,0,0.02) 0.5%, transparent 2%),
        radial-gradient(circle at 80% 80%, rgba(255,255,255,0.01) 0.5%, transparent 2%),
        linear-gradient(180deg, rgba(255,255,255,0.01), rgba(0,0,0,0));
      mix-blend-mode: overlay;
      z-index:0;
      pointer-events:none;
    }

    .hero-inner { max-width:1100px; z-index:2; text-align:center; width:100%; }
    .hero h1 { font-family:"Cinzel", serif; font-weight:800; font-size:4.0rem; margin:0 0 20px; color:#fff; letter-spacing:2px; text-transform:uppercase; line-height:1.02; text-shadow: 0 2px 8px rgba(0,0,0,0.7); }
    .hero p.subtitle { font-size:1.25rem; color:var(--subtitle-red); margin:0 auto 36px; max-width:780px; line-height:1.65; font-weight:400; }

    .hero .btn {
      border-radius:10px;
      padding:12px 30px;
      font-weight:600;
      letter-spacing:0.2px;
      transition: transform .18s ease, box-shadow .18s ease;
      border: 1px solid rgba(255,255,255,0.04);
      margin: 0 8px;
    }
    .btn-matte { background: var(--btn-blue); color: #f1f5f9; }
    .btn-matte:hover { background: var(--btn-blue-hover); transform: translateY(-3px); box-shadow: 0 6px 22px rgba(17,35,52,0.35); }
    .btn-outline-soft { background:transparent; border:1.6px solid rgba(255,255,255,0.08); color: #f3f6f8; }
    .btn-outline-soft:hover { background: rgba(255,255,255,0.02); transform: translateY(-3px); }

    .promo-strip{ width:100%; display:flex; justify-content:center; align-items:center; padding:10px 0; margin-top:28px; color:#e6e6e6; font-size:0.95rem; }

    /* --- Sections / Cards --- */
    main { padding-bottom:60px; }
    .section-title { font-family:"Cinzel", serif; color:#f3f3f3; font-size:2rem; margin-bottom:14px; text-align:center; letter-spacing:1px; }
    .section-sub { text-align:center; color:#c7c7c7; margin-bottom:28px; }

    .card-product {
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.06));
      border-radius:10px;
      padding:22px;
      border: 1px solid rgba(255,255,255,0.03);
      transition: transform .18s ease, box-shadow .18s ease;
      color: var(--text);
    }
    .card-product:hover { transform: translateY(-6px); box-shadow: 0 8px 30px rgba(0,0,0,0.6); }
    .price { font-weight:700; font-size:1.1rem; color:#fff; }

    .house-card {
      background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(0,0,0,0.05));
      padding:18px;
      border-radius:10px;
      color:#ddd;
      border:1px solid rgba(255,255,255,0.03);
      transition: transform .18s ease, box-shadow .18s ease;
    }
    .house-card:hover { transform: translateY(-6px); box-shadow: 0 10px 28px rgba(0,0,0,0.6); }
    .house-title{ font-family:"Cinzel", serif; color:var(--muted-gold); font-size:1.15rem; }

    /* --- Quiz (radio list) --- */
    .quiz-wrap { background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(0,0,0,0.04)); border-radius:12px; padding:22px; border:1px solid rgba(255,255,255,0.03); }
    .quiz-question { margin-bottom:16px; }
    .quiz-question p { font-weight:600; margin-bottom:10px; }
    .quiz-option {
      display:flex; align-items:center; gap:12px; padding:10px 12px; border-radius:8px; cursor:pointer;
      border:1px solid rgba(255,255,255,0.02); margin-bottom:8px; transition: background .12s ease, box-shadow .12s ease; background: rgba(255,255,255,0.005);
    }
    .quiz-option:hover { background: rgba(255,255,255,0.02); box-shadow: 0 6px 18px rgba(0,0,0,0.6); }
    .quiz-option input[type="radio"] { transform:scale(1.05); }

    /* --- Subscribe area --- */
    .subscribe-wrap { background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(0,0,0,0.06)); padding:28px; border-radius:10px; border:1px solid rgba(255,255,255,0.03); }

    /* --- Footer --- */
    footer { margin-top:36px; background:transparent; color:#cfcfcf; padding:36px 20px; border-top:1px solid rgba(255,255,255,0.03); }
    footer a { color: #dcdcdc; text-decoration:none; }
    footer a:hover { color:var(--muted-gold); }

    /* --- Responsive tweaks --- */
    @media (max-width:991px) {
      .hero h1 { font-size:3rem; }
      .hero p.subtitle { font-size:1.05rem; }
    }
    @media (max-width:576px) {
      .hero h1 { font-size:2.1rem; letter-spacing:1px; }
      .hero p.subtitle { max-width:92%; line-height:1.4; }
    }

    /* --- Particles canvas --- */
    #particles-canvas { position:absolute; inset:0; z-index:0; pointer-events:none; }

    .muted { color:#bdbdbd; }
    
    /* --- Estilos personalizados para modales por casa --- */
.modal-content.gryffindor-bg {
  background-color: #800000; /* escarlata */
  color: #FFD700;            /* dorado */
  border: 1px solid rgba(255,255,255,0.08);
}

.modal-content.slytherin-bg {
  background-color: #1A472A; /* verde esmeralda */
  color: #C0C0C0;            /* plata */
  border: 1px solid rgba(255,255,255,0.08);
}

.modal-content.ravenclaw-bg {
  background-color: #0E1A40; /* azul profundo */
  color: #B08D57;            /* bronce */
  border: 1px solid rgba(255,255,255,0.08);
}

.modal-content.hufflepuff-bg {
  background-color: #ECB939; /* amarillo cálido */
  color: #000000;            /* negro */
  border: 1px solid rgba(255,255,255,0.08);
}

.title-animado {
  color: #FFD700; /* Dorado mágico */
  text-shadow: 0 0 8px rgba(255, 215, 0, 0.6);
  animation: brillar 2s ease-in-out infinite;
  font-weight: bold;
}

@keyframes brillar {
  0%   { text-shadow: 0 0 8px rgba(255, 215, 0, 0.6); }
  50%  { text-shadow: 0 0 16px rgba(255, 215, 0, 0.9); }
  100% { text-shadow: 0 0 8px rgba(255, 215, 0, 0.6); }
}

  </style>
</head>
<body>

  <!-- NAVBAR / membrete (1.5cm) -->
  <nav class="navbar navbar-expand-lg navbar-custom">
    <div class="container-fluid">
      <a class="brand-wrap navbar-brand" href="#inicio"><span class="brand-star">★</span><span class="brand-title">Avada Kedavra</span></a>

      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navCollapse" aria-controls="navCollapse" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse justify-content-end" id="navCollapse">
        <ul class="navbar-nav align-items-center me-3">
          <li class="nav-item"><a class="nav-link custom" href="#inicio">Inicio</a></li>
          <li class="nav-item"><a class="nav-link custom" href="productos.html">Productos</a></li>
          <li class="nav-item"><a class="nav-link custom" href="#casas">Casas</a></li>
          <!-- Sombrero Seleccionador como enlace de menú -->
          <li class="nav-item"><a class="nav-link custom" href="#trivia">Sombrero Seleccionador</a></li>
          <li class="nav-item"><a class="nav-link custom" href="#subscribe">Nosotros</a></li>
        </ul>

        <div class="d-flex align-items-center">
          <button class="cart-btn cart"><i class="bi bi-cart3"></i>&nbsp; Carrito (0)</button>
        </div>
      </div>
    </div>
  </nav>

  <!-- HERO -->
  <header class="hero" id="inicio">
    <canvas id="particles-canvas"></canvas>
    <div class="hero-inner">
      <h1>Bienvenido al Mundo Mágico</h1>
      <p class="subtitle">
        Descubre nuestra colección exclusiva de vestimenta, accesorios y<br>
        artículos de Harry Potter para todas las casas de Hogwarts.
      </p>
      <div class="mt-4">
  <button class="btn btn-matte btn-lg" data-bs-toggle="modal" data-bs-target="#hogwartsFormModal">
  🪄 Solicitud a Hogwarts
</button>
</div>


      <div class="promo-strip mt-4">
        <span style="background: rgba(255,255,255,0.02); padding:8px 14px; border-radius:8px; display:inline-flex; align-items:center; gap:10px; border:1px solid rgba(255,255,255,0.02);">
          <span style="color:var(--muted-gold); font-weight:700;">★</span>
          <span class="muted">¡Oferta especial! 15% de descuento en productos por tiempo limitado</span>
        </span>
      </div>
    </div>

    
  </header>

  <!-- MAIN CONTENT -->
  <main class="container my-5" id="main-content">

    <!-- CASAS -->
    <section id="casas" class="mb-5">
      <div class="text-center mb-4">
        <h2 class="section-title">Las Casas de Hogwarts</h2>
        <p class="section-sub">Descubre los valores de cada casa mágica</p>
      </div>

      <div class="row g-4">
        <div class="col-md-3">
          <div class="house-card">
            <div style="height:140px; display:flex; align-items:center; justify-content:center; font-size:64px; color:#FFD700;">🦁</div>
            <div class="house-title">Gryffindor</div>
            <p class="muted">Valor, fuerza y determinación.</p>
            <div class="text-start mt-2"><a class="btn btn-outline-soft btn-sm" data-bs-toggle="modal" data-bs-target="#gryffindorModal">Ver Detalles</a></div>
          </div>
        </div>

        <div class="modal fade" id="gryffindorModal" tabindex="-1" aria-labelledby="gryffindorModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content gryffindor-bg">
  <div class="modal-header">
    <h5 class="modal-title">Gryffindor 🦁 – Donde habitan los valientes</h5>
    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
  </div>
  <div class="modal-body">
    <p><strong>Fundador:</strong> Godric Gryffindor</p>
    <p><strong>Valores:</strong> Coraje, valentía y determinación</p>
    <p><strong>Sala común:</strong> Torre de Gryffindor, custodiada por la Dama Gorda</p>
    <p><strong>Elemento:</strong> Fuego 🔥</p>
    <p><strong>Reliquia:</strong> Espada de Godric Gryffindor</p>
    <p><strong>Miembros famosos:</strong> Harry Potter, Hermione Granger, Ron Weasley</p>
    <p><strong>Curiosidad:</strong> Rivalidad histórica con Slytherin desde los tiempos fundacionales</p>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
  </div>
</div>
  </div>
</div>


        <div class="col-md-3">
          <div class="house-card">
            <div style="height:140px; display:flex; align-items:center; justify-content:center; font-size:64px; color:#ECB939;">🦡</div>
            <div class="house-title">Hufflepuff</div>
            <p class="muted">Lealtad, paciencia y trabajo duro.</p>
            <div class="text-start mt-2"><a class="btn btn-outline-soft btn-sm" data-bs-toggle="modal" data-bs-target="#hufflepuffModal">Ver Detalles</a></div>
          </div>
        </div>

        <div class="modal fade" id="hufflepuffModal" tabindex="-1" aria-labelledby="hufflepuffModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content hufflepuff-bg">
  <div class="modal-header">
    <h5 class="modal-title">Hufflepuff 🦡 – La casa de los justos y leales</h5>
    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
  </div>
  <div class="modal-body">
    <p><strong>Fundadora:</strong> Helga Hufflepuff</p>
    <p><strong>Valores:</strong> Lealtad, paciencia y trabajo duro</p>
    <p><strong>Sala común:</strong> Cerca de las cocinas, detrás de barriles encantados</p>
    <p><strong>Elemento:</strong> Tierra 🌱</p>
    <p><strong>Reliquia:</strong> Copa de Helga Hufflepuff</p>
    <p><strong>Miembros famosos:</strong> Cedric Diggory, Nymphadora Tonks, Newt Scamander</p>
    <p><strong>Curiosidad:</strong> Especialistas en Herbología, su fantasma es el Fraile Gordo</p>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
  </div>
</div>
  </div>
</div>


        <div class="col-md-3">
          <div class="house-card">
            <div style="height:140px; display:flex; align-items:center; justify-content:center; font-size:64px; color:#0E1A40;">🦅</div>
            <div class="house-title">Ravenclaw</div>
            <p class="muted">Inteligencia, creatividad y sabiduría.</p>
            <div class="text-start mt-2"><a class="btn btn-outline-soft btn-sm" data-bs-toggle="modal" data-bs-target="#ravenclawModal">Ver Detalles</a></div>
          </div>
        </div>

        <div class="modal fade" id="ravenclawModal" tabindex="-1" aria-labelledby="ravenclawModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content ravenclaw-bg">
  <div class="modal-header">
    <h5 class="modal-title">Ravenclaw 🦅 – Donde la mente encuentra su vuelo</h5>
    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
  </div>
  <div class="modal-body">
    <p><strong>Fundadora:</strong> Rowena Ravenclaw</p>
    <p><strong>Valores:</strong> Inteligencia, creatividad y sabiduría</p>
    <p><strong>Sala común:</strong> Torre Oeste, se accede resolviendo acertijos</p>
    <p><strong>Elemento:</strong> Aire 🌬️</p>
    <p><strong>Reliquia:</strong> Diadema de Rowena Ravenclaw</p>
    <p><strong>Miembros famosos:</strong> Luna Lovegood, Cho Chang, Gilderoy Lockhart</p>
    <p><strong>Curiosidad:</strong> Su fantasma es la Dama Gris, hija de Rowena</p>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
  </div>
</div>
  </div>
</div>


        <div class="col-md-3">
          <div class="house-card">
            <div style="height:140px; display:flex; align-items:center; justify-content:center; font-size:64px; color:#1A472A;">🐍</div>
            <div class="house-title">Slytherin</div>
            <p class="muted">Ambición, astucia y determinación.</p>
            <div class="text-start mt-2"><a class="btn btn-outline-soft btn-sm" data-bs-toggle="modal" data-bs-target="#slytherinModal">Ver Detalles</a></div>
          </div>
        </div>
      </div>

      <div class="modal fade" id="slytherinModal" tabindex="-1" aria-labelledby="slytherinModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content slytherin-bg">
  <div class="modal-header">
    <h5 class="modal-title">Slytherin 🐍 – El poder de la ambición</h5>
    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
  </div>
  <div class="modal-body">
    <p><strong>Fundador:</strong> Salazar Slytherin</p>
    <p><strong>Valores:</strong> Ambición, astucia y determinación</p>
    <p><strong>Sala común:</strong> Mazmorras bajo el Lago Negro</p>
    <p><strong>Elemento:</strong> Agua 🌊</p>
    <p><strong>Reliquia:</strong> Guardapelo de Slytherin</p>
    <p><strong>Miembros famosos:</strong> Severus Snape, Draco Malfoy, Tom Riddle</p>
    <p><strong>Curiosidad:</strong> Su fantasma es el Barón Sanguinario, con una historia sombría</p>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
  </div>
</div>
  </div>
</div>

    </section>

    <!-- TRIVIA (quiz) -->
    <section id="trivia" class="mb-5">
      <div class="text-center mb-4">
        <h2 class="section-title title-animado">Test: ¿A qué casa perteneces?</h2>
        <p class="section-sub">Responde las preguntas y descubre tu casa</p>
      </div>

      <div class="row justify-content-center">
        <div class="col-lg-8">
          <form id="houseQuiz" class="quiz-wrap" onsubmit="return false;">
            <div class="quiz-question">
              <p>1. ¿Qué valoras más?</p>
              <label class="quiz-option"><input type="radio" name="q1" value="Gryffindor"> Valentía</label>
              <label class="quiz-option"><input type="radio" name="q1" value="Hufflepuff"> Lealtad</label>
              <label class="quiz-option"><input type="radio" name="q1" value="Ravenclaw"> Sabiduría</label>
              <label class="quiz-option"><input type="radio" name="q1" value="Slytherin"> Ambición</label>
            </div>

            <div class="quiz-question">
              <p>2. ¿Qué criatura te atrae más?</p>
              <label class="quiz-option"><input type="radio" name="q2" value="Gryffindor"> León</label>
              <label class="quiz-option"><input type="radio" name="q2" value="Hufflepuff"> Tejón</label>
              <label class="quiz-option"><input type="radio" name="q2" value="Ravenclaw"> Águila</label>
              <label class="quiz-option"><input type="radio" name="q2" value="Slytherin"> Serpiente</label>
            </div>

            <div class="quiz-question">
              <p>3. ¿Qué cualidad te define mejor?</p>
              <label class="quiz-option"><input type="radio" name="q3" value="Gryffindor"> Coraje</label>
              <label class="quiz-option"><input type="radio" name="q3" value="Hufflepuff"> Honestidad</label>
              <label class="quiz-option"><input type="radio" name="q3" value="Ravenclaw"> Creatividad</label>
              <label class="quiz-option"><input type="radio" name="q3" value="Slytherin"> Determinación</label>
            </div>

            <div class="text-center mt-3">
              <button class="btn btn-matte" id="calcBtn" type="button">Descubrir mi casa</button>
            </div>

            <div id="quizResult" class="mt-3" style="display:none;">
              <div class="alert alert-dark" role="alert" id="resultText" style="border:1px solid rgba(255,255,255,0.04);"></div>
            </div>
          </form>
        </div>
      </div>
    </section>

    <!-- SUSCRIPCIÓN -->
    <section id="subscribe" class="mb-5">
      <div class="row justify-content-center">
        <div class="col-lg-8">
          <div class="subscribe-wrap d-flex flex-column flex-md-row align-items-center justify-content-between gap-3">
            <div style="flex:1;">
              <h4 style="margin:0 0 6px 0;">Recibe Noticias Mágicas</h4>
              <p class="muted" style="margin:0;">Suscríbete a nuestro boletín para recibir las últimas noticias, ofertas y descuentos exclusivos.</p>
            </div>

            <form id="subForm" class="d-flex gap-2" style="flex:1; justify-content:flex-end;">
              <input type="email" id="subEmail" class="form-control" placeholder="Tu correo electrónico" required style="max-width:380px; border-radius:8px; background:transparent; color:var(--text); border:1px solid rgba(255,255,255,0.06);">
              <button class="btn btn-matte" type="submit">Suscribirse</button>
            </form>
          </div>
        </div>
      </div>
    </section>

  </main>

  <!-- FOOTER -->
  <footer>
    <div class="container">
      <div class="row gy-4">
        <div class="col-md-4">
          <h5 class="mb-2">Avada Kedavra</h5>
          <p class="muted">Tu destino para todos los artículos mágicos de Harry Potter. Encuentra productos exclusivos de todas las casas de Hogwarts.</p>
          <div class="mt-2">
            <a href="#" class="me-2"><i class="bi bi-facebook"></i></a>
            <a href="#" class="me-2"><i class="bi bi-twitter"></i></a>
            <a href="#" class="me-2"><i class="bi bi-instagram"></i></a>
            <a href="#"><i class="bi bi-youtube"></i></a>
          </div>
        </div>

        <div class="col-md-4">
          <h6>Enlaces Rápidos</h6>
          <ul class="list-unstyled muted">
            <li><a href="#inicio">Inicio</a></li>
            <li><a href="productos.html">Productos</a></li>
            <li><a href="#casas">Casas</a></li>
            <li><a href="#trivia">Test</a></li>
            <li><a href="#subscribe">Suscripción</a></li>
          </ul>
        </div>

        <div class="col-md-4">
          <h6>Contacto</h6>
          <p class="muted" style="margin-bottom:6px;">Callejón Diagon, Londres</p>
          <p class="muted" style="margin-bottom:6px;">info@avadakedavra.com</p>
          <p class="muted">+44 20 1234 5678</p>
        </div>
      </div>
    </div>
  </footer>

  <!-- BOOTSTRAP JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

  <script>
    // ------- Quiz logic -------
    document.getElementById('calcBtn').addEventListener('click', function(){
      const form = document.getElementById('houseQuiz');
      const q1 = form.q1?.value;
      const q2 = form.q2?.value;
      const q3 = form.q3?.value;

      if(!q1 || !q2 || !q3){
        alert('Por favor respondé todas las preguntas.');
        return;
      }

      const tally = {Gryffindor:0, Hufflepuff:0, Ravenclaw:0, Slytherin:0};
      [q1,q2,q3].forEach(v => { if(tally[v] !== undefined) tally[v]++; });

      // pick the house with highest count; tie-breaker: priority order Gryffindor,Hufflepuff,Ravenclaw,Slytherin
      const order = ['Gryffindor','Hufflepuff','Ravenclaw','Slytherin'];
      let result = order[0];
      let max = -1;
      for(const h of order){
        if(tally[h] > max){ max = tally[h]; result = h; }
      }

      const resText = {
        Gryffindor: { title:'Gryffindor', text:'¡Tu casa es Gryffindor! Valor, coraje y determinación.' },
        Hufflepuff: { title:'Hufflepuff', text:'¡Tu casa es Hufflepuff! Lealtad, paciencia y trabajo duro.' },
        Ravenclaw: { title:'Ravenclaw', text:'¡Tu casa es Ravenclaw! Inteligencia, creatividad y amor por el aprendizaje.' },
        Slytherin: { title:'Slytherin', text:'¡Tu casa es Slytherin! Ambición, astucia y determinación.' }
      };

      const resultBox = document.getElementById('quizResult');
      const resultText = document.getElementById('resultText');
      resultText.innerHTML = '<strong>' + resText[result].title + ':</strong> ' + resText[result].text;
      resultBox.style.display = 'block';
      resultBox.scrollIntoView({ behavior:'smooth', block:'center' });
    });

    // ------- Subscribe handler (visual) -------
    document.getElementById('subForm').addEventListener('submit', function(e){
      e.preventDefault();
      const mail = document.getElementById('subEmail').value;
      if(!mail){ alert('Ingresá un correo válido'); return; }
      alert('¡Gracias! Te suscribiste con: ' + mail);
      this.reset();
    });

    // ------- Particles background (lightweight) -------
    (function(){
      const canvas = document.getElementById('particles-canvas');
      if(!canvas) return;
      const ctx = canvas.getContext('2d');
      let w = canvas.width = window.innerWidth;
      let h = canvas.height = window.innerHeight;
      let stars = [];
      const STAR_COUNT = Math.floor((w*h)/60000);

      function rand(min,max){ return Math.random()*(max-min)+min; }

      function createStars(){
        stars = [];
        const count = Math.max(40, STAR_COUNT);
        for(let i=0;i<count;i++){
          stars.push({
            x: Math.random()*w,
            y: Math.random()*h,
            r: rand(0.3,1.8),
            alpha: rand(0.1,0.9),
            dx: rand(-0.03,0.03),
            dy: rand(-0.02,0.02),
            pulse: Math.random()*0.03 + 0.01,
            phase: Math.random()*Math.PI*2
          });
        }
      }

      function resize(){
        w = canvas.width = window.innerWidth;
        h = canvas.height = window.innerHeight;
        createStars();
      }
      window.addEventListener('resize', resize);

      function draw(){
        ctx.clearRect(0,0,w,h);
        // subtle huge gradient
        const g = ctx.createLinearGradient(0,0,w,h);
        g.addColorStop(0,'rgba(255,255,255,0.01)');
        g.addColorStop(1,'rgba(0,0,0,0.03)');
        ctx.fillStyle = g;
        ctx.fillRect(0,0,w,h);

        for(let s of stars){
          s.phase += s.pulse;
          const a = 0.35 + Math.abs(Math.sin(s.phase))*0.65 * s.alpha;
          ctx.beginPath();
          ctx.fillStyle = 'rgba(255,255,255,'+a+')';
          ctx.shadowBlur = Math.max(0, s.r*6);
          ctx.shadowColor = 'rgba(255,240,200,0.08)';
          ctx.arc(s.x, s.y, s.r, 0, Math.PI*2);
          ctx.fill();
          // drift
          s.x += s.dx;
          s.y += s.dy;
          if(s.x<0) s.x = w;
          if(s.x>w) s.x = 0;
          if(s.y<0) s.y = h;
          if(s.y>h) s.y = 0;
        }
        requestAnimationFrame(draw);
      }

      resize();
      draw();
    })();
  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Modal: Solicitud a Hogwarts -->
<div class="modal fade" id="hogwartsFormModal" tabindex="-1" aria-labelledby="hogwartsFormLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content" style="background:rgba(0,0,0,0.85); color:#fff; border-radius:12px;">
      <div class="modal-header">
        <h5 class="modal-title" id="hogwartsFormLabel">📜 Solicitud de Ingreso a Hogwarts</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Cerrar"></button>
      </div>
      <div class="modal-body">
        <form id="hogwartsForm">
          <div class="mb-3">
            <label for="nombreyapellido" class="form-label">Nombre y Apellido</label>
            <input type="text" class="form-control" id="nombreyapellido" required>
          </div>
          <div class="mb-3">
            <label for="criaturaFavorita" class="form-label">Criatura favorita</label>
            <input type="text" class="form-control" id="criaturaFavorita" required>
          </div>
          <div class="mb-3">
            <label for="hechizoFavorito" class="form-label">Hechizo favorito</label>
            <input type="text" class="form-control" id="hechizoFavorito" required>
          </div>
          <div class="mb-3">
            <label for="correoelectronico" class="form-label">Correo electrónico</label>
            <input type="text" class="form-control" id="correoelectronico" required>
          </div>
          <div class="text-center">
            <button type="submit" class="btn btn-light">Enviar solicitud</button>
          </div>
        </form>
        <div id="confirmacionLechuza" class="mt-4 text-center" style="display:none;">
          <p>✅ ¡Solicitud enviada con éxito!</p>
          <p>Una lechuza mágica te entregará la respuesta pronto 🦉</p>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
document.getElementById("hogwartsForm").addEventListener("submit", function(e) {
  e.preventDefault();
  document.getElementById("hogwartsForm").style.display = "none";
  document.getElementById("confirmacionLechuza").style.display = "block";
});
</script>


</body>
</html>
