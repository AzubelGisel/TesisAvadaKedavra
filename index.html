<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Avada Kedavra</title>

  <!-- Bootstrap + Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700;900&family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">

  <style>
    /* --- Variables y base --- */
    :root{
      --bg-matte: #0f1112;        /* fondo general, menos negro */
      --panel: #151617;
      --muted-gold: #b6922f;
      --subtitle-red: #7b1f1f;
      --btn-blue: #112334;
      --btn-blue-hover: #1b3d5a;
      --text: #e9e9e9;
      --membrete-height: 1.5cm;   /* altura requerida */
    }

    html { scroll-behavior: smooth; }
    html,body { height:100%; margin:0; background:var(--bg-matte); color:var(--text); font-family:"Roboto", sans-serif; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; }

    a { text-decoration: none; color: inherit; }

    /* --- NAVBAR / membrete --- */
    .navbar-custom {
      height: var(--membrete-height);
      background: #080808;
      display: flex;
      align-items: center;
      border-bottom: 1px solid rgba(255,255,255,0.03);
      padding-left: 28px;
      padding-right: 28px;
    }

    .navbar-custom {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 999;
}

.hero {
  margin-top: var(--membrete-height);
}



    .brand-wrap { display:flex; align-items:center; gap:10px; }
    .brand-star {
      color: #f0c941;
      font-size: 1.35rem;
      line-height:1;
      filter: drop-shadow(0 0 6px rgba(240,201,65,0.12));
    }
    .brand-title { color:white; font-weight:700; font-size:1.05rem; letter-spacing:0.2px; font-family:"Cinzel", serif; }

    .nav-link.custom {
      color: var(--muted-gold) !important;
      margin-left: 12px;
      margin-right: 12px;
      font-weight:500;
    }
    .nav-link.custom:hover { color: #fff !important; text-shadow:0 0 8px rgba(182,146,47,0.8); }

    .cart-btn {
      color: white;
      border:1px solid rgba(255,255,255,0.16);
      padding:6px 12px;
      border-radius:6px;
      background:transparent;
    }

    /* When using anchors, ensure sections are visible below the membrete */
    section { scroll-margin-top: calc(var(--membrete-height) + 12px); }

    /* --- HERO --- */
    .hero {
      min-height: calc(100vh - var(--membrete-height));
      display:flex;
      align-items:center;
      justify-content:center;
      position:relative;
      padding: 80px 20px;
      overflow:hidden;
    }
    .hero::before {
      content:"";
      position:absolute;
      inset:0;
      background:
        radial-gradient(circle at 20% 20%, rgba(255,215,0,0.02) 0.5%, transparent 2%),
        radial-gradient(circle at 80% 80%, rgba(255,255,255,0.01) 0.5%, transparent 2%),
        linear-gradient(180deg, rgba(255,255,255,0.01), rgba(0,0,0,0));
      mix-blend-mode: overlay;
      z-index:0;
      pointer-events:none;
    }

    .hero-inner { max-width:1100px; z-index:2; text-align:center; width:100%; }
    .hero h1 { font-family:"Cinzel", serif; font-weight:800; font-size:4.0rem; margin:0 0 20px; color:#fff; letter-spacing:2px; text-transform:uppercase; line-height:1.02; text-shadow: 0 2px 8px rgba(0,0,0,0.7); }
    .hero p.subtitle { font-size:1.25rem; color:var(--subtitle-red); margin:0 auto 36px; max-width:780px; line-height:1.65; font-weight:400; }

    .hero .btn {
      border-radius:10px;
      padding:12px 30px;
      font-weight:600;
      letter-spacing:0.2px;
      transition: transform .18s ease, box-shadow .18s ease;
      border: 1px solid rgba(255,255,255,0.04);
      margin: 0 8px;
    }
    .btn-matte { background: var(--btn-blue); color: #f1f5f9; }
    .btn-matte:hover { background: var(--btn-blue-hover); transform: translateY(-3px); box-shadow: 0 6px 22px rgba(17,35,52,0.35); }
    .btn-outline-soft { background:transparent; border:1.6px solid rgba(255,255,255,0.08); color: #f3f6f8; }
    .btn-outline-soft:hover { background: rgba(255,255,255,0.02); transform: translateY(-3px); }

    .promo-strip{ width:100%; display:flex; justify-content:center; align-items:center; padding:10px 0; margin-top:28px; color:#e6e6e6; font-size:0.95rem; }

    /* --- Sections / Cards --- */
    main { padding-bottom:60px; }
    .section-title { font-family:"Cinzel", serif; color:#f3f3f3; font-size:2rem; margin-bottom:14px; text-align:center; letter-spacing:1px; }
    .section-sub { text-align:center; color:#c7c7c7; margin-bottom:28px; }

    .card-product {
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.06));
      border-radius:10px;
      padding:22px;
      border: 1px solid rgba(255,255,255,0.03);
      transition: transform .18s ease, box-shadow .18s ease;
      color: var(--text);
    }
    .card-product:hover { transform: translateY(-6px); box-shadow: 0 8px 30px rgba(0,0,0,0.6); }
    .price { font-weight:700; font-size:1.1rem; color:#fff; }

    .house-card {
      background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(0,0,0,0.05));
      padding:18px;
      border-radius:10px;
      color:#ddd;
      border:1px solid rgba(255,255,255,0.03);
      transition: transform .18s ease, box-shadow .18s ease;
    }
    .house-card:hover { transform: translateY(-6px); box-shadow: 0 10px 28px rgba(0,0,0,0.6); }
    .house-title{ font-family:"Cinzel", serif; color:var(--muted-gold); font-size:1.15rem; }

    /* --- Quiz (radio list) --- */
    .quiz-wrap { background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(0,0,0,0.04)); border-radius:12px; padding:22px; border:1px solid rgba(255,255,255,0.03); }
    .quiz-question { margin-bottom:16px; }
    .quiz-question p { font-weight:600; margin-bottom:10px; }
    .quiz-option {
      display:flex; align-items:center; gap:12px; padding:10px 12px; border-radius:8px; cursor:pointer;
      border:1px solid rgba(255,255,255,0.02); margin-bottom:8px; transition: background .12s ease, box-shadow .12s ease; background: rgba(255,255,255,0.005);
    }
    .quiz-option:hover { background: rgba(255,255,255,0.02); box-shadow: 0 6px 18px rgba(0,0,0,0.6); }
    .quiz-option input[type="radio"] { transform:scale(1.05); }

    /* --- Subscribe area --- */
    .subscribe-wrap { background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(0,0,0,0.06)); padding:28px; border-radius:10px; border:1px solid rgba(255,255,255,0.03); }

    /* --- Footer --- */
    footer { margin-top:36px; background:transparent; color:#cfcfcf; padding:36px 20px; border-top:1px solid rgba(255,255,255,0.03); }
    footer a { color: #dcdcdc; text-decoration:none; }
    footer a:hover { color:var(--muted-gold); }

    /* --- Responsive tweaks --- */
    @media (max-width:991px) {
      .hero h1 { font-size:3rem; }
      .hero p.subtitle { font-size:1.05rem; }
    }
    @media (max-width:576px) {
      .hero h1 { font-size:2.1rem; letter-spacing:1px; }
      .hero p.subtitle { max-width:92%; line-height:1.4; }
    }

    /* --- Particles canvas --- */
    #particles-canvas { position:absolute; inset:0; z-index:0; pointer-events:none; }

    .muted { color:#bdbdbd; }
    
    /* --- Estilos personalizados para modales por casa --- */
.modal-content.gryffindor-bg {
  background-color: #800000; /* escarlata */
  color: #FFD700;            /* dorado */
  border: 1px solid rgba(255,255,255,0.08);
}

.modal-content.slytherin-bg {
  background-color: #1A472A; /* verde esmeralda */
  color: #C0C0C0;            /* plata */
  border: 1px solid rgba(255,255,255,0.08);
}

.modal-content.ravenclaw-bg {
  background-color: #0E1A40; /* azul profundo */
  color: #B08D57;            /* bronce */
  border: 1px solid rgba(255,255,255,0.08);
}

.modal-content.hufflepuff-bg {
  background-color: #ECB939; /* amarillo c√°lido */
  color: #000000;            /* negro */
  border: 1px solid rgba(255,255,255,0.08);
}

.title-animado {
  color: #FFD700; /* Dorado m√°gico */
  text-shadow: 0 0 8px rgba(255, 215, 0, 0.6);
  animation: brillar 2s ease-in-out infinite;
  font-weight: bold;
}

@keyframes brillar {
  0%   { text-shadow: 0 0 8px rgba(255, 215, 0, 0.6); }
  50%  { text-shadow: 0 0 16px rgba(255, 215, 0, 0.9); }
  100% { text-shadow: 0 0 8px rgba(255, 215, 0, 0.6); }
}

.info-banner {
  background-color: #0D1B2A;
  color: #ffffff;
  width: 100vw;
  margin-left: calc(-50vw + 50%);
  padding: 10px 0;
  font-size: 1rem;
  font-weight: 500;
  box-shadow: 0 2px 6px rgba(0,0,0,0.2);
  margin-top: 2cm; /* ‚Üê esto agrega el espacio que quer√©s */
}




.full-banner {
  background-color: #0D1B2A; /* Azul oscuro */
  color: #ffffff;
  width: 100vw;
  padding: 8px 0;
  font-size: 1rem;
  font-weight: 500;
  box-shadow: 0 2px 6px rgba(0,0,0,0.2);
  margin: 0;
  position: relative;
  left: 0;
}


#varitaMagica {
  position: fixed;
  width: 100px;
  z-index: 999;
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.3s ease;
}

#varitaMagica img {
  width: 100%;
  transform: rotate(-20deg);
  filter: drop-shadow(0 0 6px #FFD700);
}

.chispas {
  position: absolute;
  top: 30px;
  left: 95px;
  width: 10px;
  height: 10px;
  background: radial-gradient(circle, #FFD700 0%, transparent 70%);
  border-radius: 50%;
  pointer-events: none;
  opacity: 0;
}
#particles-canvas {
  position: fixed;
  top: 0; left: 0;
  width: 100vw;
  height: 100vh;
  z-index: 0;
  pointer-events: none;
}

.test-intro {
  display: flex;
  flex-wrap: wrap;
  background-color: #1a1a1a;
  padding: 2rem;
  border-radius: 10px;
  color: #ffd700;
}

.test-intro .col-md-6 {
  flex: 1 1 50%;
  padding: 1rem;
}

.sombrero-img {
  width: 100%;
  max-width: 500px;
  opacity: 0.9;
  border-radius: 10px;
}

.test-texto h2 {
  font-size: 2rem;
  margin-bottom: 1rem;
}

.test-texto p {
  font-size: 1.2rem;
}

.test-intro .col-md-6:first-child {
  flex: 1.2; /* Imagen m√°s ancha */
}

.test-intro .col-md-6:last-child {
  flex: 0.8; /* Texto m√°s angosto */
}
.sombrero-img {
  width: 100%;
  max-width: none;
  height: 100%;
  object-fit: contain;
}

.test-intro {
  min-height: 500px;
}
html {
  scroll-behavior: smooth;
}
#testhogwarts {
  scroll-margin-top: 100px; /* ajust√° seg√∫n el alto de tu navbar */
}


  </style>
</head>
<body>
<!-- NAVBAR / membrete -->
<nav class="navbar navbar-expand-lg navbar-custom">
  <div class="container-fluid">
    <!-- Marca -->
    <a class="brand-wrap navbar-brand" href="#inicio">
      <span class="brand-star">‚òÖ</span>
      <span class="brand-title">Avada Kedavra</span>
    </a>

    <!-- Bot√≥n hamburguesa -->
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navCollapse" aria-controls="navCollapse" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <!-- Men√∫ colapsable -->
    <div class="collapse navbar-collapse justify-content-end" id="navCollapse">
  <ul class="navbar-nav align-items-start me-3 menu-box">



        <li class="nav-item"><a class="nav-link custom" href="#inicio">Inicio</a></li>
        <li class="nav-item"><a class="nav-link custom" href="productos magicos.html">Productos m√°gicos</a></li>
        <li class="nav-item"><a class="nav-link custom" href="#casas">Casas</a></li>
        <li class="nav-item"><a class="nav-link custom" href="#testhogwarts">Sombrero Seleccionador</a></li>
        <li class="nav-item"><a class="nav-link custom" href="#subscribe">Nosotros</a></li>
        <li class="nav-item"><a class="nav-link custom" href="faq.html">Preguntas Frecuentes</a></li>
      </ul>

      <!-- √çcono del carrito alineado a la derecha -->
      <div class="d-flex">
        <a href="carrito.html" class="cart-btn d-flex align-items-center">
          <i class="bi bi-cart3"></i>&nbsp; Carrito (<span id="contador-carrito">0</span>)
        </a>
      </div>
    </div>
  </div>
</nav>

  <!-- HERO -->
  <header class="hero" id="inicio">
    <canvas id="particles-canvas"></canvas>
    <div class="hero-inner">
      <h1>Bienvenido al Mundo M√°gico</h1>
      <p class="subtitle">
        Descubre nuestra colecci√≥n exclusiva de vestimenta, accesorios y<br>
        art√≠culos de Harry Potter para todas las casas de Hogwarts.
      </p>
      <div class="mt-4">
  <button class="btn btn-matte btn-lg" data-bs-toggle="modal" data-bs-target="#hogwartsFormModal">
  ü™Ñ Solicitud a Hogwarts
</button>
</div>

<div class="info-banner mt-4">
  <div class="text-center py-2" id="banner-novedades">
    <strong>üì¢ Importante:</strong> Las inscripciones para el Test de Selecci√≥n estar√°n abiertas hasta el 31 de octubre. ¬°No te quedes afuera!
  </div>
</div>

<div class="promo-banner mt-3 text-center py-2" id="promo-destacada">
  <!-- Aqu√≠ se insertar√° la promo desde localStorage -->
</div>



  </header>

  <!-- MAIN CONTENT -->
  <main class="container my-5" id="main-content">

    <!-- PRODUCTOS DESTACADOS -->
    <section id="productos" class="mb-5">
      <div class="text-center mb-4">
        <h2 class="section-title">PRODUCTOS DESTACADOS</h2>
        <p class="section-sub">Art√≠culos m√°gicos seleccionados especialmente para ti</p>
      </div>

      <div class="row g-4">
        <div class="col-md-3">
          <div class="card-product h-100 d-flex flex-column justify-content-between">
            <div>
              <div style="height:160px; display:flex; align-items:center; justify-content:center; color:rgba(255,255,255,0.08); font-size:60px;">üëï</div>
              <h5 class="mt-2">T√∫nica de Gryffindor</h5>
              <p class="muted">T√∫nica oficial con los colores de la casa Gryffindor.</p>
            </div>
            <div class="d-flex justify-content-between align-items-center mt-3">
              <div class="price">$49.99</div>
              <button onclick="agregarAlCarrito(1)">A√±adir</button>
            </div>
          </div>
        </div>

        <div class="col-md-3">
          <div class="card-product h-100 d-flex flex-column justify-content-between">
            <div>
              <div style="height:160px; display:flex; align-items:center; justify-content:center; color:rgba(255,255,255,0.08); font-size:60px;">üß£</div>
              <h5 class="mt-2">Bufanda de Slytherin</h5>
              <p class="muted">Elegante bufanda en verde y plata.</p>
            </div>
            <div class="d-flex justify-content-between align-items-center mt-3">
              <div class="price">$29.99</div>
              <button onclick="agregarAlCarrito(2)">A√±adir</button>
            </div>
          </div>
        </div>

        <div class="col-md-3">
          <div class="card-product h-100 d-flex flex-column justify-content-between">
            <div>
              <div style="height:160px; display:flex; align-items:center; justify-content:center; color:rgba(255,255,255,0.08); font-size:60px;">ü™Ñ</div>
              <h5 class="mt-2">Varita de Ravenclaw</h5>
              <p class="muted">R√©plica inspirada en dise√±os de Ravenclaw.</p>
            </div>
            <div class="d-flex justify-content-between align-items-center mt-3">
              <div class="price">$34.99</div>
              <button onclick="agregarAlCarrito(3)">A√±adir</button>
            </div>
          </div>
        </div>

        <div class="col-md-3">
          <div class="card-product h-100 d-flex flex-column justify-content-between">
            <div>
              <div style="height:160px; display:flex; align-items:center; justify-content:center; color:rgba(255,255,255,0.08); font-size:60px;">üìå</div>
              <h5 class="mt-2">Pin de Hufflepuff</h5>
              <p class="muted">Pin met√°lico con emblema de Hufflepuff.</p>
            </div>
            <div class="d-flex justify-content-between align-items-center mt-3">
              <div class="price">$12.99</div>
              <button onclick="agregarAlCarrito(4)">A√±adir</button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- CASAS -->
    <section id="casas" class="mb-5">
      <div class="text-center mb-4">
        <h2 class="section-title">Las Casas de Hogwarts</h2>
        <p class="section-sub" style="color:#8f2b2b;">Descubre los valores de cada casa m√°gica</p>
      </div>

      <div class="row g-4">
        <div class="col-md-3">
          <div class="house-card">
            <div style="height:140px; display:flex; align-items:center; justify-content:center; font-size:64px; color:#FFD700;">ü¶Å</div>
            <div class="house-title">Gryffindor</div>
            <p class="muted">Valor, fuerza y determinaci√≥n.</p>
            <div class="text-start mt-2"><a class="btn btn-outline-soft btn-sm" data-bs-toggle="modal" data-bs-target="#gryffindorModal">Ver Detalles</a></div>
          </div>
        </div>

        <div class="modal fade" id="gryffindorModal" tabindex="-1" aria-labelledby="gryffindorModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content gryffindor-bg">
  <div class="modal-header">
    <h5 class="modal-title">Gryffindor ü¶Å ‚Äì Donde habitan los valientes</h5>
    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
  </div>
  <div class="modal-body">
    <p><strong>Fundador:</strong> Godric Gryffindor</p>
    <p><strong>Valores:</strong> Coraje, valent√≠a y determinaci√≥n</p>
    <p><strong>Sala com√∫n:</strong> Torre de Gryffindor, custodiada por la Dama Gorda</p>
    <p><strong>Elemento:</strong> Fuego üî•</p>
    <p><strong>Reliquia:</strong> Espada de Godric Gryffindor</p>
    <p><strong>Miembros famosos:</strong> Harry Potter, Hermione Granger, Ron Weasley</p>
    <p><strong>Curiosidad:</strong> Rivalidad hist√≥rica con Slytherin desde los tiempos fundacionales</p>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
  </div>
</div>
  </div>
</div>


        <div class="col-md-3">
          <div class="house-card">
            <div style="height:140px; display:flex; align-items:center; justify-content:center; font-size:64px; color:#ECB939;">ü¶°</div>
            <div class="house-title">Hufflepuff</div>
            <p class="muted">Lealtad, paciencia y trabajo duro.</p>
            <div class="text-start mt-2"><a class="btn btn-outline-soft btn-sm" data-bs-toggle="modal" data-bs-target="#hufflepuffModal">Ver Detalles</a></div>
          </div>
        </div>

        <div class="modal fade" id="hufflepuffModal" tabindex="-1" aria-labelledby="hufflepuffModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content hufflepuff-bg">
  <div class="modal-header">
    <h5 class="modal-title">Hufflepuff ü¶° ‚Äì La casa de los justos y leales</h5>
    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
  </div>
  <div class="modal-body">
    <p><strong>Fundadora:</strong> Helga Hufflepuff</p>
    <p><strong>Valores:</strong> Lealtad, paciencia y trabajo duro</p>
    <p><strong>Sala com√∫n:</strong> Cerca de las cocinas, detr√°s de barriles encantados</p>
    <p><strong>Elemento:</strong> Tierra üå±</p>
    <p><strong>Reliquia:</strong> Copa de Helga Hufflepuff</p>
    <p><strong>Miembros famosos:</strong> Cedric Diggory, Nymphadora Tonks, Newt Scamander</p>
    <p><strong>Curiosidad:</strong> Especialistas en Herbolog√≠a, su fantasma es el Fraile Gordo</p>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
  </div>
</div>
  </div>
</div>
        <div class="col-md-3">
          <div class="house-card">
            <div style="height:140px; display:flex; align-items:center; justify-content:center; font-size:64px; color:#0E1A40;">ü¶Ö</div>
            <div class="house-title">Ravenclaw</div>
            <p class="muted">Inteligencia, creatividad y sabidur√≠a.</p>
            <div class="text-start mt-2"><a class="btn btn-outline-soft btn-sm" data-bs-toggle="modal" data-bs-target="#ravenclawModal">Ver Detalles</a></div>
          </div>
        </div>

        <div class="modal fade" id="ravenclawModal" tabindex="-1" aria-labelledby="ravenclawModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content ravenclaw-bg">
  <div class="modal-header">
    <h5 class="modal-title">Ravenclaw ü¶Ö ‚Äì Donde la mente encuentra su vuelo</h5>
    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
  </div>
  <div class="modal-body">
    <p><strong>Fundadora:</strong> Rowena Ravenclaw</p>
    <p><strong>Valores:</strong> Inteligencia, creatividad y sabidur√≠a</p>
    <p><strong>Sala com√∫n:</strong> Torre Oeste, se accede resolviendo acertijos</p>
    <p><strong>Elemento:</strong> Aire üå¨Ô∏è</p>
    <p><strong>Reliquia:</strong> Diadema de Rowena Ravenclaw</p>
    <p><strong>Miembros famosos:</strong> Luna Lovegood, Cho Chang, Gilderoy Lockhart</p>
    <p><strong>Curiosidad:</strong> Su fantasma es la Dama Gris, hija de Rowena</p>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
  </div>
</div>
  </div>
</div>

        <div class="col-md-3">
          <div class="house-card">
            <div style="height:140px; display:flex; align-items:center; justify-content:center; font-size:64px; color:#1A472A;">üêç</div>
            <div class="house-title">Slytherin</div>
            <p class="muted">Ambici√≥n, astucia y determinaci√≥n.</p>
            <div class="text-start mt-2"><a class="btn btn-outline-soft btn-sm" data-bs-toggle="modal" data-bs-target="#slytherinModal">Ver Detalles</a></div>
          </div>
        </div>
      </div>

      <div class="modal fade" id="slytherinModal" tabindex="-1" aria-labelledby="slytherinModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content slytherin-bg">
  <div class="modal-header">
    <h5 class="modal-title">Slytherin üêç ‚Äì El poder de la ambici√≥n</h5>
    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
  </div>
  <div class="modal-body">
    <p><strong>Fundador:</strong> Salazar Slytherin</p>
    <p><strong>Valores:</strong> Ambici√≥n, astucia y determinaci√≥n</p>
    <p><strong>Sala com√∫n:</strong> Mazmorras bajo el Lago Negro</p>
    <p><strong>Elemento:</strong> Agua üåä</p>
    <p><strong>Reliquia:</strong> Guardapelo de Slytherin</p>
    <p><strong>Miembros famosos:</strong> Severus Snape, Draco Malfoy, Tom Riddle</p>
    <p><strong>Curiosidad:</strong> Su fantasma es el Bar√≥n Sanguinario, con una historia sombr√≠a</p>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
  </div>
</div>
  </div>
</div>

    </section>

    <!-- TRIVIA (quiz) -->
    <section id="testhogwarts" class="test-intro d-flex align-items-center justify-content-center my-5">
  <div class="col-md-6 text-center">
    <img src="img/testhogwarts2.jpg" alt="Sombrero Seleccionador" class="img-fluid sombrero-img" />
  </div>
  <div class="col-md-6 text-center test-texto">
    <h2>üßô‚Äç‚ôÇÔ∏è ¬øA qu√© casa de Hogwarts perteneces?</h2>
    <p>Descubr√≠ tu verdadera casa m√°gica con nuestro test encantado.</p>
    <a href="test.html" class="btn btn-warning mt-3">Comenzar el Test</a>
  </div>
</section>

    <!-- SUSCRIPCI√ìN -->
    <section id="subscribe" class="mb-5">
      <div class="row justify-content-center">
        <div class="col-lg-8">
          <div class="subscribe-wrap d-flex flex-column flex-md-row align-items-center justify-content-between gap-3">
            <div style="flex:1;">
              <h4 style="margin:0 0 6px 0;">Recibe Noticias M√°gicas</h4>
              <p class="muted" style="margin:0;">Suscr√≠bete a nuestro bolet√≠n para recibir las √∫ltimas noticias, ofertas y descuentos exclusivos.</p>
            </div>

            <form id="subForm" class="d-flex gap-2" style="flex:1; justify-content:flex-end;">
              <input type="email" id="subEmail" class="form-control" placeholder="Tu correo electr√≥nico" required style="max-width:380px; border-radius:8px; background:transparent; color:var(--text); border:1px solid rgba(255,255,255,0.06);">
              <button class="btn btn-matte" type="submit">Suscribirse</button>
            </form>
          </div>
        </div>
      </div>
    </section>

  </main>

  <!-- FOOTER -->
  <footer>
    <div class="container">
      <div class="row gy-4">
        <div class="col-md-4">

          <h5 style="color: #7b1f1f;">Avada Kedavra</h5>
          <p class="muted">Tu destino para todos los art√≠culos m√°gicos de Harry Potter. Encuentra productos exclusivos de todas las casas de Hogwarts.</p>
          <div class="mt-2">
            <a href="#" class="me-2"><i class="bi bi-facebook"></i></a>
            <a href="#" class="me-2"><i class="bi bi-twitter"></i></a>
            <a href="#" class="me-2"><i class="bi bi-instagram"></i></a>
            <a href="#"><i class="bi bi-youtube"></i></a>
          </div>
        </div>

        <div class="col-md-4">
          <h6 style="color: #7b1f1f;">Enlaces R√°pidos</h6>
          <ul class="list-unstyled muted">
            <li><a href="#inicio">Inicio</a></li>
            <li><a href="productos.html">Productos</a></li>
            <li><a href="#casas">Casas</a></li>
            <li><a href="#trivia">Test</a></li>
            <li><a href="#subscribe">Suscripci√≥n</a></li>
          </ul>
        </div>

        <div class="col-md-4">
          <h6 style="color: #7b1f1f;">Contacto</h6>
          <p class="muted" style="margin-bottom:6px;">Callej√≥n Diagon, Londres</p>
          <p class="muted" style="margin-bottom:6px;">info@avadakedavra.com</p>
          <p class="muted">+44 20 1234 5678</p>
        </div>
      </div>
    </div>
  </footer>

  <!-- BOOTSTRAP JS -->
 <!-- ‚úÖ Bootstrap JS debe ir separado -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<!-- Script para cerrar el men√∫ hamburguesa al hacer clic fuera -->
<script>
  document.addEventListener("click", function(event) {
    const navbar = document.getElementById("navCollapse");
    const isOpen = navbar.classList.contains("show");
    const isClickInside = navbar.contains(event.target);
    const isToggler = event.target.closest(".navbar-toggler");

    if (isOpen && !isClickInside && !isToggler) {
      const bsCollapse = new bootstrap.Collapse(navbar, { toggle: true });
      bsCollapse.hide();
    }
  });
</script>


<script>
document.addEventListener("DOMContentLoaded", () => {
  // üõí Carrito
  const productos = [
    { id: 1, nombre: "T√∫nica de Gryffindor", precio: 49.99 },
    { id: 2, nombre: "Bufanda de Slytherin", precio: 29.99 },
    { id: 3, nombre: "Varita de Ravenclaw", precio: 34.99 },
    { id: 4, nombre: "Pin de Hufflepuff", precio: 12.99 }
  ];

  let carrito = (JSON.parse(localStorage.getItem("carrito")) || []).map(p => ({
    ...p,
    cantidad: p.cantidad ?? 1
  }));
  const contador = document.getElementById("contador-carrito");
  if (contador) {
    const total = carrito.reduce((acc, p) => acc + (p.cantidad || 1), 0);
    contador.textContent = total;
  }

  window.agregarAlCarrito = function(idProducto) {
    const productoSeleccionado = productos.find(p => p.id === idProducto);
    const index = carrito.findIndex(p => p.id === idProducto);

    if (index !== -1) {
      carrito[index].cantidad += 1;
    } else {
      carrito.push({ ...productoSeleccionado, cantidad: 1 });
    }

    localStorage.setItem("carrito", JSON.stringify(carrito));

    if (contador) {
      const total = carrito.reduce((acc, p) => acc + (p.cantidad || 1), 0);
      contador.textContent = total;
    }

    alert(`Se agreg√≥ "${productoSeleccionado.nombre}" al carrito.`);
    console.log("Carrito actual:", carrito);
    mostrarCarrito?.();
  };

  window.mostrarCarrito = function() {
    const lista = document.getElementById("lista-carrito");
    if (!lista) return;
    lista.innerHTML = "";

    carrito.forEach(producto => {
      const item = document.createElement("li");
      item.textContent = `${producto.nombre} x${producto.cantidad} - $${(producto.precio * producto.cantidad).toFixed(2)}`;
      lista.appendChild(item);
    });
  };

  // üß† Cierre de men√∫ hamburguesa
  const navbarCollapse = document.getElementById("navCollapse");
  const bsCollapse = bootstrap.Collapse.getOrCreateInstance(navbarCollapse);

  document.querySelectorAll(".navbar-nav .nav-link").forEach(link => {
    link.addEventListener("click", () => {
      if (navbarCollapse.classList.contains("show")) {
        bsCollapse.hide();
      }
    });
  });

  // üé© Sombrero Seleccionador
  document.getElementById('calcBtn')?.addEventListener('click', function(){
    const form = document.getElementById('houseQuiz');
    const q1 = form.q1?.value;
    const q2 = form.q2?.value;
    const q3 = form.q3?.value;

    if(!q1 || !q2 || !q3){
      alert('Por favor respond√© todas las preguntas.');
      return;
    }

    const tally = {Gryffindor:0, Hufflepuff:0, Ravenclaw:0, Slytherin:0};
    [q1,q2,q3].forEach(v => { if(tally[v] !== undefined) tally[v]++; });

    const order = ['Gryffindor','Hufflepuff','Ravenclaw','Slytherin'];
    let result = order[0], max = -1;
    for(const h of order){ if(tally[h] > max){ max = tally[h]; result = h; } }

    const casas = {
      Gryffindor: {
        escudo: 'ü¶Å',
        frase: 'Donde habitan los valientes. Tu coraje te guiar√°.',
        clase: 'gryffindor-bg'
      },
      Hufflepuff: {
        escudo: 'ü¶°',
        frase: 'La casa de los justos y leales. Tu coraz√≥n es tu fuerza.',
        clase: 'hufflepuff-bg'
      },
      Ravenclaw: {
        escudo: 'ü¶Ö',
        frase: 'Donde la mente encuentra su vuelo. Tu sabidur√≠a ilumina el camino.',
        clase: 'ravenclaw-bg'
      },
      Slytherin: {
        escudo: 'üêç',
        frase: 'El poder de la ambici√≥n. Tu astucia te llevar√° lejos.',
        clase: 'slytherin-bg'
      }
    };

    const data = casas[result];
    document.getElementById('escudoCasa').innerText = data.escudo;
    document.getElementById('nombreCasa').innerText = result;
    document.getElementById('fraseCasa').innerText = data.frase;

    const modalContent = document.getElementById('modalCartaContent');
    modalContent.className = 'modal-content ' + data.clase;

    const modal = new bootstrap.Modal(document.getElementById('cartaCasaModal'));
    modal.show();
  });
});
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

 <!-- Modal: Solicitud a Hogwarts -->
<div class="modal fade" id="hogwartsFormModal" tabindex="-1" aria-labelledby="hogwartsFormLabel" aria-hidden="true">
  <div class="modal-dialog">
<div class="modal-content" style="
  background: rgba(0,0,0,0.85);
  color: #fff;
  border-radius: 12px;
  border: 2px solid #d4af37;
  box-shadow: 0 0 20px rgba(255, 223, 100, 0.6), 0 0 40px rgba(255, 223, 100, 0.3);
">      <div class="modal-header">
        <h5 class="modal-title" id="hogwartsFormLabel">üìú Solicitud de Ingreso a Hogwarts</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Cerrar"></button>
      </div>
      <div class="modal-body">
        <form id="hogwartsForm">
          <div class="mb-3">
            <label for="nombreyapellido" class="form-label">Nombre y Apellido</label>
            <input type="text" class="form-control" id="nombreyapellido" required>
          </div>
          <div class="mb-3">
            <label for="criaturaFavorita" class="form-label">Criatura favorita</label>
            <input type="text" class="form-control" id="criaturaFavorita" required>
          </div>
          <div class="mb-3">
            <label for="hechizoFavorito" class="form-label">Hechizo favorito</label>
            <input type="text" class="form-control" id="hechizoFavorito" required>
          </div>
          <div class="mb-3">
            <label for="correoelectronico" class="form-label">Correo electr√≥nico</label>
            <input type="text" class="form-control" id="correoelectronico" required>
          </div>
          <div class="mb-3">
            <label for="antecedentes-magicos" class="form-label">Antecedentes m√°gicos</label>
            <select class="form-select" id="antecedentes-magicos" required>
              <option value="">Seleccione una opci√≥n</option>
              <option value="sangre-pura">üß¨ Sangre pura</option>
              <option value="mestizo">ü¶Å Mestizo</option>
              <option value="nacido-muggle">üåç Nacido de muggles</option>
              <option value="desconocido">‚ùì Desconocido</option>
            </select>
          </div>
          <div class="text-center">
            <button type="submit" class="btn btn-light">Enviar solicitud</button>
          </div>
        </form>
        <div id="confirmacionLechuza" class="mt-4 text-center" style="
  display: none;
  background: rgba(255, 255, 255, 0.1);
  color: #ffd;
  padding: 1rem;
  border: 2px dashed #d4af37;
  border-radius: 12px;
  box-shadow: 0 0 15px rgba(255, 223, 100, 0.5);
">
  <p>‚úÖ <strong>¬°Solicitud enviada con √©xito!</strong></p>
  <p>Una lechuza m√°gica te entregar√° la respuesta pronto ü¶â</p>
</div>

      </div>
    </div>
  </div>
</div>


<script>
document.getElementById("hogwartsForm").addEventListener("submit", function(e) {
  e.preventDefault();
  document.getElementById("hogwartsForm").style.display = "none";
  document.getElementById("confirmacionLechuza").style.display = "block";
});
</script>

<!-- Varita m√°gica flotante -->
<div id="varitaMagica">
  <img src="img/varita.png" alt="Varita m√°gica">
  <div class="chispas"></div>
</div>

<script>
function moverVarita() {
  const varita = document.getElementById("varitaMagica");
  const chispas = varita.querySelector(".chispas");

  // Ocultar varita antes de moverla
  varita.style.opacity = "0";

  setTimeout(() => {
    // Nueva posici√≥n aleatoria
    const x = Math.random() * (window.innerWidth - 120);
    const y = Math.random() * (window.innerHeight - 120);
    varita.style.left = `${x}px`;
    varita.style.top = `${y}px`;

    // Mostrar varita
    varita.style.opacity = "1";

    // Reiniciar chispas
    chispas.style.opacity = "1";
    chispas.style.transition = "none";
    chispas.style.transform = "scale(1) translateX(0) translateY(0)";

    setTimeout(() => {
      chispas.style.transition = "transform 0.6s ease-out, opacity 0.6s ease-out";
      chispas.style.transform = "scale(2) translateX(30px) translateY(-20px)";
      chispas.style.opacity = "0";
    }, 50);
  }, 300); // Espera a que se oculte antes de mover
}

// Ejecutar cada 4 segundos
setInterval(moverVarita, 4000);
</script>

<!-- Modal: Resultado de la Casa -->
<div class="modal fade" id="cartaCasaModal" tabindex="-1" aria-labelledby="cartaCasaLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content" id="modalCartaContent">
      <div class="modal-header">
        <h5 class="modal-title title-animado" id="cartaCasaLabel">Tu carta ha llegado ü¶â</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Cerrar"></button>
      </div>
      <div class="modal-body text-center">
        <div id="escudoCasa" style="font-size:64px; margin-bottom:12px;"></div>
        <h4 id="nombreCasa"></h4>
        <p id="fraseCasa" class="mt-2"></p>
      </div>
    </div>
  </div>
</div>

<script>
(function(){
  const canvas = document.getElementById('particles-canvas');
  if(!canvas) return;
  const ctx = canvas.getContext('2d');
  let w = canvas.width = window.innerWidth;
  let h = canvas.height = window.innerHeight;
  let stars = [];
  const STAR_COUNT = Math.floor((w*h)/60000);

  function rand(min,max){ return Math.random()*(max-min)+min; }

  function createStars(){
    stars = [];
    for(let i=0;i<Math.max(40,STAR_COUNT);i++){
      stars.push({
        x: Math.random()*w,
        y: Math.random()*h,
        r: rand(0.3,1.6),
        alpha: rand(0.1,0.9),
        dx: rand(-0.02,0.02),
        dy: rand(-0.02,0.02),
        pulse: Math.random()*0.03 + 0.01,
        phase: Math.random()*Math.PI*2
      });
    }
  }

  function resize(){
    w = canvas.width = window.innerWidth;
    h = canvas.height = window.innerHeight;
    createStars();
  }

  window.addEventListener('resize', resize);

  function draw(){
    ctx.clearRect(0,0,w,h);
    const g = ctx.createLinearGradient(0,0,w,h);
    g.addColorStop(0,'rgba(255,255,255,0.01)');
    g.addColorStop(1,'rgba(0,0,0,0.03)');
    ctx.fillStyle = g;
    ctx.fillRect(0,0,w,h);

    for(let s of stars){
      s.phase += s.pulse;
      const a = 0.4 + Math.abs(Math.sin(s.phase))*0.6 * s.alpha;
      ctx.beginPath();
      ctx.fillStyle = 'rgba(255,255,255,'+a+')';
      ctx.shadowBlur = Math.max(0, s.r*6);
      ctx.shadowColor = 'rgba(255,240,200,0.08)';
      ctx.arc(s.x, s.y, s.r, 0, Math.PI*2);
      ctx.fill();

      s.x += s.dx;
      s.y += s.dy;
      if(s.x<0) s.x = w;
      if(s.x>w) s.x = 0;
      if(s.y<0) s.y = h;
      if(s.y>h) s.y = 0;
    }

    requestAnimationFrame(draw);
  }

  resize();
  draw();
})();


</script>

<script>
  const banner = localStorage.getItem("banner");
  if (banner) {
    document.getElementById("banner-novedades").innerHTML = `<strong>üì¢ Importante:</strong> ${banner}`;
  }
</script>

<script>
const promo = JSON.parse(localStorage.getItem("promo"));
if (promo) {
  document.getElementById("promo-destacada").innerHTML = `
    <strong>üéÅ ${promo.titulo}</strong><br>
    ${promo.descripcion}<br>
    <em>V√°lida del ${promo.inicio} al ${promo.fin}</em>
  `;
}
</script>

<script>
  let visitas = localStorage.getItem("visitas");
  visitas = visitas ? parseInt(visitas) + 1 : 1;
  localStorage.setItem("visitas", visitas);
</script>


</body>
</html>
